{"componentChunkName":"component---src-templates-documentation-template-js","path":"/documentation/kotlin/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"næringsberegninger\" style=\"position:relative;\"><a href=\"#n%C3%A6ringsberegninger\" aria-label=\"næringsberegninger permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Næringsberegninger</h1>\n<p>Denne seksjonen beskriver de beregningene som vi gjør på dokumentet med næringsopplysninger. Det er disse beregnignene som Skatteetaten kjører når et dokument\nmed næringsopplysninger blir mottatt. Beregningene blir fra Skatteetatens side benyttet for å sjekke at dokumentet er korrekt utfylt, og at alle verdierne\ner i henhold til de beregningene som Skatteetaten har spesifisert. Er det mangler eller avvik i de beregnede verdiene å vil valideringstjensten bygge opp et valideringsresulat som\nsier noe om hva som mangler i det beregnede grunnlaget, men ikke nødvendigvis referere til hvilken beregning som er berørt, den vil kun referere til de beregnede verdiene som har mangler eller avvik. Beregningene vil fremover i teksten bli betegnet som\nKalkyle eller Kalkyler.</p>\n<h2 id=\"kalkyler\" style=\"position:relative;\"><a href=\"#kalkyler\" aria-label=\"kalkyler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kalkyler</h2>\n<p>Skatteetaten er i ferd med å lage en DSL for beregningene som henviser til seksjoner og felter i XML strukturen. Tanken er at denne skal kunne\nbrukes som en spesifikasjon av beregningene som sluttbrukersystemene må implementere for å kunne sende inn de riktige dataene.</p>\n<p>Denne spesifikasjonen har navngivning av del konsepter som man må gjøre seg kjent med for å kunne forstå hvordan kalkylene er bygget opp.</p>\n<p>Eksempel på en kalkyle:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> annenDriftsinntektKalkyle <span class=\"token operator\">=</span>\n            summer forekomsterAv annenDriftsinntekt forVerdi <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span>beloep <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Denne kalkylen summerer alle feltene med navn <code class=\"language-text\">beloep</code> i for alle forekomster av <code class=\"language-text\">annenDriftsinntekt</code>. En forekomst i dokumentet med Næringsopplysninger er elementer\nsom er av typen <code class=\"language-text\">EntitetMedGenerelleEgenskaper</code> i xsd. Man vil finne igjen elementene fra kalkylen gjennom de navnene som er bruk\ngjennom å slå opp i tilhørende XDS for næringsopplysninger.</p>\n<p>Alle elementer som ar <code class=\"language-text\">EntitetMedGenerelleEgenskaper</code> som en supertype kan refereres gjennom <code class=\"language-text\">forekomsterAv</code> i kalkylen. Den fulle xpath er ikke gjengitt i uttrykket\nmen alle navn som gjengis på denne måten i en kalkyle kan finnes unikt i pågjeldene dokument og referert xsd.\nKonstruksjonen <code class=\"language-text\">forVerdi</code> i uttrykket over representerer navnet på det feltet i forekomsten som skal summeres. Flere felt kan refereres i kombinasjon, eksempler på dette kommer\nlengre ned i beskrivelsen. Referansen <code class=\"language-text\">it</code> er det implisitte navnet på forekomsten som man henter feltet på. Det er\net standard navn som kotlin bruke for implisitte iteratorer og kommer til å bli benyttet mange steder i kalkylene.</p>\n<p>Feltet <code class=\"language-text\">it.beloep</code> som bli referert under forekomsten <code class=\"language-text\">annenDriftsinntekt</code> kan gjenfinnes i XSD for typen av forekomst som\n<code class=\"language-text\">annenDriftsinntekt</code> representerer:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;xsd:complexType name=&quot;AnnenDriftsinntekt&quot;&gt;\n        &lt;xsd:complexContent&gt;\n            &lt;xsd:extension base=&quot;EntitetMedGenerelleEgenskaper&quot;&gt;\n                &lt;xsd:sequence&gt;\n                    &lt;xsd:element name=&quot;annenDriftsinntektstype&quot; type=&quot;AnnenDriftsinntektstypeMedInnkapsling&quot;/&gt;\n                    &lt;xsd:element name=&quot;beloep&quot; type=&quot;BeloepMedSkattemessigeEgenskaper&quot;/&gt;\n                &lt;/xsd:sequence&gt;\n            &lt;/xsd:extension&gt;\n        &lt;/xsd:complexContent&gt;\n    &lt;/xsd:complexType&gt;</code></pre></div>\n<p>Vi ser at feltet <code class=\"language-text\">beloep</code> er definert som en kompleks type: <code class=\"language-text\">BeloepMedSkattemessigeEgenskaper</code>. Selve beløpsfeltet er definert slik i denne typen:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;xsd:complexType name=&quot;BeloepMedSkattemessigeEgenskaper&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;beloep&quot; type=&quot;BeloepMedInnkapsling&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n\nog\n\n&lt;xsd:complexType name=&quot;BeloepMedInnkapsling&quot; skatt:begrepsreferanse=&quot;https://data.skatteetaten.no/begrep/20b2e146-9fe1-11e5-a9f8-e4115b280940&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;beloep&quot; type=&quot;BeloepMed2Desimaler&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;</code></pre></div>\n<p>Så em gyldig xpath referanse til dette feltet vil være: <code class=\"language-text\">beloep/beloep</code>. Men for typene <code class=\"language-text\">BeloepMedSkattemessigeEgenskaper</code>og <code class=\"language-text\">BeloepMedSkattemessigeEgenskaperOgOverstyring</code>\nså har vi etablert en snarveiskonvenskjon som sier at dette kan refereres direkte når det dreier seg om beløpsverdien, og da\naltså på formen <code class=\"language-text\">it.beloep</code> for eksempelet over.</p>\n<h3 id=\"kombinasjon-av-kalkyler\" style=\"position:relative;\"><a href=\"#kombinasjon-av-kalkyler\" aria-label=\"kombinasjon av kalkyler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kombinasjon av kalkyler</h3>\n<p>Kalkylene kan kombineres, der man ønsker å kombinere summer fra forskjellige kalkyler. I eksempelet under så kombinerer vi to kalkyler for å returnere en tredje verdi:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    val sumDriftsinntekterKalkyle: Kalkyle =\n            (salgsinntekterKalkyle + annenDriftsinntektKalkyle) verdiSom sumDriftsinntekt</code></pre></div>\n<p>Denne kalkylen vil returnere en ny sim for driftsinntekt som en verdi navngitt <code class=\"language-text\">sumDriftinntekt</code>. Dette er en enkeltstående verdi som er\nglobal i dokumentet. På samme måte som <code class=\"language-text\">annenDriftsinntekt</code> så kan dette feltet finnes i XSD her:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">xsd:</span>element</span> <span class=\"token attr-name\">minOccurs</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sumDriftsinntekt<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>BeloepMedSkattemessigeEgenskaperOgOverstyring<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Typen <code class=\"language-text\">BeloepMedSkattemessigeEgenskaperOgOverstyring</code> representerer et beløp i dokumentet og kan benyttes for å representere en verdi. Hvis dette feltet\nhadde navngitt en forekomst så vill det ha vært en galt spesifisert kallyle. <code class=\"language-text\">verdiSom</code> kan kun benyttes som en global verdi for et enkeltstående felt.</p>\n<h3 id=\"kalkyler-og-beregnede-forekomster\" style=\"position:relative;\"><a href=\"#kalkyler-og-beregnede-forekomster\" aria-label=\"kalkyler og beregnede forekomster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kalkyler og beregnede forekomster</h3>\n<p>Mange av kalkylene skal beregne verdier som ligger inne som forekomster av typen <code class=\"language-text\">EntitetMedGenerelleEgenskaper</code>. Det betyr at kalkylen\nreturnerer en forekomst med gitte verdier og også en definert id. Det vil derfor, for noen av forekomstene i dokumentet med næringsopplysninger\nvære krav til hvordan en id er utfylt. Alle elementene av typen <code class=\"language-text\">EntitetMedGenerelleEgenskaper</code> har id som et påkrevd felt, og denne\nimplementasjonsguiden vil definere regler for disse id'en. Dette er viktig fordi id brukes som utgangspunkt for å sammenlikne innkommende verdi med det\nsom Skatteetaten selv beregner. To forekomster med ulik id vil i henhold til denne definisjonen være ulike.</p>\n<p>Eksempel på kalkyle som returnerer en forekomst:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">internal val annenDriftsinntektstypeInntektKalkyle = summer forekomsterAv gevinstOgTapskonto forVerdi { it.inntektFraGevinstOgTapskonto } verdiSom NyForekomst(forekomststTypeSpesifikasjon = annenDriftsinntekt, idVerdi = &quot;3890&quot;, feltKoordinat = annenDriftsinntekt.beloep, feltMedFasteVerdier =\n    {\n        listOf(\n                FeltOgVerdi(it.type, &quot;3890&quot;)\n        )\n    }\n    )</code></pre></div>\n<p>Denne kalkylen summerer verdien hentet fra beløpet i feltet <code class=\"language-text\">inntektFraGevinstOgTapskonto</code> for alle forekomster av <code class=\"language-text\">gevinstOgTapskonto</code>. Dette returneres gjennom konstruksjonen\n<code class=\"language-text\">verdiSom NyForekomst</code>. Den nye forekomsten settes opp med de ønskede feltene, med angitte verdier for de navngitte feltene. Denne konstruksjonen vil etablere en forekomst som ser slik ut:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>annenDriftsinntekt</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>3890<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>annenDriftsinntektstype</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>annenDriftsinntektstype</span><span class=\"token punctuation\">></span></span>3890<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>annenDriftsinntektstype</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>annenDriftsinntektstype</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beloep</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beloep</span><span class=\"token punctuation\">></span></span>\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beloep</span><span class=\"token punctuation\">></span></span>5000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beloep</span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beloep</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beloep</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>annenDriftsinntekt</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>gitt at summen for denne kalkylen returnerer 5000.</p>\n<h3 id=\"kalkyler-med-flere-verdier-i-en-forekomst\" style=\"position:relative;\"><a href=\"#kalkyler-med-flere-verdier-i-en-forekomst\" aria-label=\"kalkyler med flere verdier i en forekomst permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kalkyler med flere verdier i en forekomst</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">private val forekomsterGevinstOgTapskonto = itererForekomster forekomsterAv gevinstOgTapskonto\nprivate val inntektFraGevinstOgTapskontoKalkyle = forekomsterGevinstOgTapskonto forVerdier (\n            listOf(\n                    { f -&gt; f.grunnlagForAaretsInntektsOgFradragsfoering.der(derVerdiErStoerreEnn(15000)) * f.satsForInntektsfoeringOgInntektsfradrag.prosent() somFelt gevinstOgTapskonto.inntektFraGevinstOgTapskonto },\n                    { f -&gt; f.grunnlagForAaretsInntektsOgFradragsfoering.der(derVerdiErMellom(0, 15000)) somFelt gevinstOgTapskonto.inntektFraGevinstOgTapskonto },\n                    { f -&gt; f.grunnlagForAaretsInntektsOgFradragsfoering.der(derVerdiErMellom(-15000, -1)) somFelt gevinstOgTapskonto.inntektsfradragFraGevinstOgTapskonto.abs() },\n                    { f -&gt; f.grunnlagForAaretsInntektsOgFradragsfoering.der(derVerdiErMindreEnn(-15000)) * f.satsForInntektsfoeringOgInntektsfradrag.prosent() somFelt gevinstOgTapskonto.inntektsfradragFraGevinstOgTapskonto.abs() }\n            ))</code></pre></div>\n<p>Over så har vi referert <code class=\"language-text\">forekomsterAvGevinstOgTapskonto</code> som en egen variabel fordi vi skal gjøre flere ting med disse forekomstene. Dette er en forenkling som\nbrukes i flere av kalkylene. Kalkylen <code class=\"language-text\">inntektFraGevinstOgTapskontoKalkyle</code> henvser til flere komvinasjoner av uttrygg og felt som skal returners gitt ulike betingelser. Alle\nbetingelsene i listen blir evaluert opp mot verdiene i dokumentet. Det første uttrykket i listen over vil evaluere fra venstre mot høyre gitt at det\nfinnes felt med angitte egenskaper på vedi. <code class=\"language-text\">f.grunnlagForAaretsInntektsOgFradragsfoering.der(derVerdiErStoerreEnn(15000))</code> krever at feltet <code class=\"language-text\">grunnlagForAaretsInntektsOgFradragsfoering</code> har en verdi som er\nstørre enn <code class=\"language-text\">15000</code>, og gitt at det er sant så multipliserer vi denne verdien med feltet <code class=\"language-text\">satsForInntektsfoeringOgInntektsfradrag</code> Denne satsen er angitt\ni prosent, feks 20, og vi legger derfor på <code class=\"language-text\">.prosent()</code> for å angi at dette er oppgitt i prosents lik at verdien blir ganget med 0.20 ikke 20. Gitt\nat begge feltene finnes i forekomsten. Den siste delen av uttrykket <code class=\"language-text\">somFelt gevinstOgTapskonto.inntektFraGevinstOgTapskonto</code> vil legge til dette beregnede\nfeltet som et felt i forekomsten med den beregnede verdien og da i feltet med navn <code class=\"language-text\">inntektFraGevinstOgTapskonto</code>.</p>\n<p>Det samme er gjeldende for de andre uttrykkene i listen. Andre begreper for felt som returneres er: <code class=\"language-text\">abs()</code> for å returnere en absoluttverdi for et felt.</p>\n<h3 id=\"rekkefølge-på-kalkyler\" style=\"position:relative;\"><a href=\"#rekkef%C3%B8lge-p%C3%A5-kalkyler\" aria-label=\"rekkefølge på kalkyler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rekkefølge på kalkyler</h3>\n<p>Noen av kalkylene bruker felt som er beregnet i andre kalkyler. Det er derfor viktig at kalkylene kjører i riktig rekkefølge. Vi spesifiserer rekkefølgen slik:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token keyword\">internal</span> <span class=\"token keyword\">val</span> tre <span class=\"token operator\">=</span> <span class=\"token function\">Kalkyletre</span><span class=\"token punctuation\">(</span>\n            driftskostnadstypeKalkyle<span class=\"token punctuation\">,</span>\n            annenDriftsinntektstypeInntektKalkyle<span class=\"token punctuation\">,</span>\n            annenDriftsinntektstypeFradragKalkyle<span class=\"token punctuation\">,</span>\n            sumDriftsinntekterKalkyle<span class=\"token punctuation\">,</span>\n            sumDriftskostnaderKalkyle<span class=\"token punctuation\">,</span>\n            sumFinansinntektKalkyle<span class=\"token punctuation\">,</span>\n            sumFinanskostnadKalkyle<span class=\"token punctuation\">,</span>\n            sumEkstraordinaerePosterKalkyle<span class=\"token punctuation\">,</span>\n            sumSkattekostnadKalkyle<span class=\"token punctuation\">,</span>\n            aarsresultatKalkyle<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Kalkylene i dette kalkyletreet kjærer i denne rekkefølgen. Det betyr at eventuelt beregnede vedier fra <code class=\"language-text\">driftskostnadstypeKalkyle</code> er tilgjengelige\nfor kalkylen <code class=\"language-text\">aarsresultatKalkyle</code> når denne kjører. Dette fordi kalkyler som kjøres tidlig kan <em>beregne verdier som brukes av andre kalkyler</em>. Det jobbes med å\nlage dette slik at rekkefølgen kan utledes.</p>\n<p>For at listene av kalkyler ikke skal bli for store så er de organisert i ulike områder, som feks resultatregnskapet. De ulike områdene har også avhengigheter. Feks så må\nkalkylene for GevinstOgTapskonto kjøre før kalkylene for Resultatregnskapet. Dette settes opp slik:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">object DefaultKalkyletre : Kalkyletre(\n        GevinstOgTapskontoKalkyler,\n        SpesifikasjonAvBalanse,\n        Resultatregnskapet\n)</code></pre></div>\n<p>Dette definerer rekkefølgen på kallkyleområdene innbyrdes.</p>\n<h1 id=\"kalkyler-1\" style=\"position:relative;\"><a href=\"#kalkyler-1\" aria-label=\"kalkyler 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kalkyler</h1>\n<h2 id=\"resultatregnskapet\" style=\"position:relative;\"><a href=\"#resultatregnskapet\" aria-label=\"resultatregnskapet permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resultatregnskapet</h2>\n<h2 id=\"spesifikasjon-av-balanse\" style=\"position:relative;\"><a href=\"#spesifikasjon-av-balanse\" aria-label=\"spesifikasjon av balanse permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spesifikasjon av balanse</h2>\n<h2 id=\"gevinstogtapskonto\" style=\"position:relative;\"><a href=\"#gevinstogtapskonto\" aria-label=\"gevinstogtapskonto permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GevinstOgTapskonto</h2>\n<h1 id=\"begreper\" style=\"position:relative;\"><a href=\"#begreper\" aria-label=\"begreper permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Begreper</h1>\n<ul>\n<li>DLS, Domain Specific Language</li>\n<li>Forekomst</li>\n<li>Beløp med egenskaper</li>\n<li>Globalt felt</li>\n</ul>","headings":[{"value":"Næringsberegninger","depth":1},{"value":"Kalkyler","depth":2},{"value":"Kombinasjon av kalkyler","depth":3},{"value":"Kalkyler og beregnede forekomster","depth":3},{"value":"Kalkyler med flere verdier i en forekomst","depth":3},{"value":"Rekkefølge på kalkyler","depth":3},{"value":"Kalkyler","depth":1},{"value":"Resultatregnskapet","depth":2},{"value":"Spesifikasjon av balanse","depth":2},{"value":"GevinstOgTapskonto","depth":2},{"value":"Begreper","depth":1}],"fields":{"slug":"/documentation/kotlin/"},"frontmatter":{"title":"Næringsberegninger"}}},"pageContext":{"slug":"/documentation/kotlin/"}},"staticQueryHashes":["270254161"]}